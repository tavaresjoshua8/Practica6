(function(e){function t(t){for(var i,n,s=t[0],l=t[1],c=t[2],u=0,m=[];u<s.length;u++)n=s[u],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&m.push(r[n][0]),r[n]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);d&&d(t);while(m.length)m.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],i=!0,s=1;s<a.length;s++){var l=a[s];0!==r[l]&&(i=!1)}i&&(o.splice(t--,1),e=n(n.s=a[0]))}return e}var i={},r={app:0},o=[];function n(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=i,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"inspire"}},[a("v-navigation-drawer",{attrs:{app:"",clipped:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},[a("v-subheader",[e._v("VISTAS")]),a("v-list-item",{attrs:{link:"",to:{name:"home"}}},[a("v-list-item-action",[a("v-icon",[e._v("mdi-home")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Home")])],1)],1),a("v-list-item",{attrs:{link:"",to:{name:"inventario"}}},[a("v-list-item-action",[a("v-icon",[e._v("mdi-book-outline")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Inventario")])],1)],1),a("v-list-item",{attrs:{link:""}},[a("v-list-item-action",[a("v-icon",[e._v("mdi-settings")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Settings")])],1)],1)],1)],1),a("v-app-bar",{attrs:{app:"","clipped-left":""}},[a("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),a("v-toolbar-title",[e._v("Inventario")])],1),a("v-content",[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"shrink"},[a("router-view")],1)],1)],1)],1),a("v-footer",{attrs:{app:""}},[a("span",[a("v-icon",{attrs:{small:""}},[e._v("mdi-coffee-outline")]),e._v(" Joshua Salcido © 2019 ")],1)])],1)},o=[],n={data:function(){return{drawer:null}}},s=n,l=a("2877"),c=a("6544"),d=a.n(c),u=a("7496"),m=a("40dc"),v=a("5bc1"),f=a("62ad"),p=a("a523"),h=a("a75b"),b=a("553a"),g=a("132d"),k=a("8860"),I=a("da13"),x=a("1800"),_=a("5d23"),w=a("f774"),y=a("0fd9"),V=a("e0c7"),S=a("2a7f"),E=Object(l["a"])(s,r,o,!1,null,null,null),C=E.exports;d()(E,{VApp:u["a"],VAppBar:m["a"],VAppBarNavIcon:v["a"],VCol:f["a"],VContainer:p["a"],VContent:h["a"],VFooter:b["a"],VIcon:g["a"],VList:k["a"],VListItem:I["a"],VListItemAction:x["a"],VListItemContent:_["a"],VListItemTitle:_["b"],VNavigationDrawer:w["a"],VRow:y["a"],VSubheader:V["a"],VToolbarTitle:S["a"]});var T=a("8c4f"),$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{href:"https://github.com/tavaresjoshua8",icon:"",large:"",target:"_blank"}},i),[a("v-icon",{attrs:{large:""}},[e._v("mdi-github-circle")])],1)]}}])},[a("span",[e._v("GitHub Profile")])]),a("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{href:"https://www.linkedin.com/in/joshua-tavares-30b1b418a/",icon:"",large:"",target:"_blank"}},i),[a("v-icon",{attrs:{large:""}},[e._v("mdi-linkedin")])],1)]}}])},[a("span",[e._v("LinkedIn Profile")])]),a("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{href:"https://twitter.com/tavaresjoshua8",icon:"",large:"",target:"_blank"}},i),[a("v-icon",{attrs:{large:""}},[e._v("mdi-twitter-circle")])],1)]}}])},[a("span",[e._v("Twitter Profile")])]),a("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{href:"mailto:tavaresjoshua8@gmail.com",icon:"",large:"",target:"_blank"}},i),[a("v-icon",[e._v("mdi-gmail")])],1)]}}])},[a("span",[e._v("E-mail")])])],1)},j=[],O={name:"home"},A=O,D=a("8336"),P=a("3a2f"),R=Object(l["a"])(A,$,j,!1,null,null,null),B=R.exports;d()(R,{VBtn:D["a"],VIcon:g["a"],VTooltip:P["a"]});var F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{"loading-text":"Cargando...","sort-by":"folio",headers:e.headers,items:e.items,search:e.search,loading:e.loadingItems},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Items")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{attrs:{label:"Buscar","append-icon":e.mdiMagnify,singleLine:"",hideDetails:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},i),[e._v("Nuevo Item")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{attrs:{loading:e.savingBook}},[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form"},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Folio",rules:e.rules.folio},model:{value:e.editedItem.folio,callback:function(t){e.$set(e.editedItem,"folio",t)},expression:"editedItem.folio"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Nombre",rules:e.rules.required},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Slug",rules:e.rules.required},model:{value:e.editedItem.slug,callback:function(t){e.$set(e.editedItem,"slug",t)},expression:"editedItem.slug"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Autor"},model:{value:e.editedItem.author,callback:function(t){e.$set(e.editedItem,"author",t)},expression:"editedItem.author"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Editorial"},model:{value:e.editedItem.editorial,callback:function(t){e.$set(e.editedItem,"editorial",t)},expression:"editedItem.editorial"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Edición"},model:{value:e.editedItem.issue,callback:function(t){e.$set(e.editedItem,"issue",t)},expression:"editedItem.issue"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Páginas",rules:e.rules.required},model:{value:e.editedItem.pages,callback:function(t){e.$set(e.editedItem,"pages",t)},expression:"editedItem.pages"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Traducción"},model:{value:e.editedItem.translation,callback:function(t){e.$set(e.editedItem,"translation",t)},expression:"editedItem.translation"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Año",rules:e.rules.year},model:{value:e.editedItem.year,callback:function(t){e.$set(e.editedItem,"year",t)},expression:"editedItem.year"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"Reseña",rules:e.rules.required},model:{value:e.editedItem.review,callback:function(t){e.$set(e.editedItem,"review",t)},expression:"editedItem.review"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"PDF",rules:e.rules.required},model:{value:e.editedItem.pdf,callback:function(t){e.$set(e.editedItem,"pdf",t)},expression:"editedItem.pdf"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-file-input",{attrs:{label:"Portada",placeholder:"Seleccione la portada","prepend-icon":"mdi-camera",accept:"image/*","show-size":"",outlined:"",rules:e.imageRules},model:{value:e.image,callback:function(t){e.image=t},expression:"image"}})],1),a("v-col",{attrs:{cols:"12"}},[e.response.error?a("v-alert",{attrs:{type:"error"}},[e._v(" "+e._s(e.response.message)+" ")]):e._e()],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v("Guardar")])],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(i)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Reiniciar")])]},proxy:!0}])}),a("v-snackbar",{attrs:{color:e.snackbar.color,top:""},model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[e._v(" "+e._s(e.snackbar.message)+" "),a("v-btn",{attrs:{dark:"",text:""},on:{click:function(t){e.snackbar.show=!1}}},[e._v(" "+e._s(e.snackbar.close)+" ")])],1),a("v-snackbar",{attrs:{color:"error",top:""},model:{value:e.deletedSnackbar,callback:function(t){e.deletedSnackbar=t},expression:"deletedSnackbar"}},[e._v(" Item Eliminado. "),a("v-btn",{attrs:{dark:"",text:""},on:{click:e.backDeletedItem}},[e._v(" Deshacer ")])],1)],1)},L=[],q=(a("c975"),a("a434"),a("0d03"),a("4d63"),a("ac1f"),a("25f0"),a("5319"),a("bc3a")),z=a.n(q),N={data:function(){return{snackbar:{show:!1,message:"",color:"cyan darken-2",close:"Cerrar"},deletedSnackbar:!1,image:null,loadingItems:!1,savingBook:!1,search:"",dialog:!1,response:{error:!1,message:""},rules:{required:[function(e){return!!e||"Este campo es necesario."}],folio:[function(e){return!!e||"El folio no puede ser nulo."},function(e){return/^-?\d*[.]?\d*$/.test(e)||"El folio debe ser númerico."}],year:[function(e){return!e||/^\d{4}$/.test(e)||"Año no válido."},function(e){return!e||!(e<1800)||"El año no puede ser menor a: 1800"},function(e){return!e||!(e>(new Date).getFullYear())||"El año no puede ser mayor a el año actual."}]},headers:[{text:"Folio",align:"left",value:"folio"},{text:"Nombre",value:"name"},{text:"Autor",value:"author"},{text:"Editorial",value:"editorial"},{text:"Edición",value:"issue"},{text:"Paginas",value:"pages",sortable:!1},{text:"Traducción",value:"translation"},{text:"Año",value:"year"},{text:"Acciones",value:"action",sortable:!1}],items:[],editedIndex:-1,editedItem:{id:0,folio:0,name:"",slug:"",author:"",editorial:"",issue:"",pages:"0001-",translation:"",year:1999,review:"",pdf:"",image:null},defaultItem:{id:0,folio:0,name:"",slug:"",author:"",editorial:"",issue:"",pages:"0001-",translation:"",year:1999,review:"",pdf:"",image:null},lastDeletedItem:{}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Item":"Editar Item"},imageRules:function(){return-1===this.editedIndex?[function(e){return!!e||"Este campo es necesario."}]:[]}},watch:{dialog:function(e){e||this.close()},"editedItem.name":function(e){this.editedItem.slug=this.slug(e)},image:function(e){var t=this;if(null!=e){var a=new FileReader;a.onload=function(){t.editedItem.image=a.result},a.readAsDataURL(e)}}},created:function(){this.initialize()},methods:{initialize:function(){var e=this;this.loadingItems=!0,z.a.get("/api/items").then((function(t){e.items=t.data,e.loadingItems=!1}))},editItem:function(e){this.editedFolio=e.folio,this.editedIndex=this.items.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){var t=this,a=this.items.indexOf(e);confirm("¿Está seguro que quiere eliminar este item?")&&(this.loadingItems=!0,z.a.delete("/api/items",{params:{id:e.id}}).then((function(e){t.lastDeletedItem=e.data,t.loadingItems=!1,t.items.splice(a,1),t.showDeletedSnackbar()})).catch((function(e){t.loadingItems=!1,t.showSnackbar(e.response.data.message,"error")})))},close:function(){var e=this;this.$refs.form.resetValidation(),this.setResponseError(null),this.dialog=!1,this.image=null,setTimeout((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedFolio=-1,e.editedIndex=-1}),300)},save:function(){var e=this;this.$refs.form.validate()&&(this.savingBook=!0,this.setResponseError(null),this.editedIndex>-1?z.a.put("/api/items",{item:this.editedItem}).then((function(t){e.savingBook=!1,Object.assign(e.items[e.editedIndex],t.data),e.close(),e.showSnackbar("Item actualizado con éxito.")})).catch((function(t){e.setResponseError(t),e.savingBook=!1})):z.a.post("/api/items",{item:this.editedItem}).then((function(t){e.savingBook=!1,e.items.push(t.data),e.close(),e.showSnackbar("Item guardado con éxito.")})).catch((function(t){e.setResponseError(t),e.savingBook=!1})))},backDeletedItem:function(){this.editItem(this.lastDeletedItem),this.deletedSnackbar=!1},slug:function(e){e=e.replace(/^\s+|\s+$/g,""),e=e.toLowerCase();for(var t="ãàáäâẽèéëêìíïîõòóöôùúüûñç·/_,:;",a="aaaaaeeeeeiiiiooooouuuunc------",i=0,r=t.length;i<r;i++)e=e.replace(new RegExp(t.charAt(i),"g"),a.charAt(i));return e=e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),e},setResponseError:function(e){this.response=null==e?{error:!1,message:""}:{error:!0,message:e.response.data.message}},showSnackbar:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cyan darken-2",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Cerrar";this.snackbar={color:t,message:e,close:a,show:!0}},showDeletedSnackbar:function(){this.deletedSnackbar=!0}}},M=N,J=a("0798"),G=a("b0af"),H=a("99d9"),U=a("8fea"),Y=a("169a"),K=a("ce7e"),Q=a("23a7"),W=a("4bd4"),X=a("2db4"),Z=a("2fa4"),ee=a("8654"),te=a("a844"),ae=a("71d9"),ie=Object(l["a"])(M,F,L,!1,null,null,null),re=ie.exports;d()(ie,{VAlert:J["a"],VBtn:D["a"],VCard:G["a"],VCardActions:H["a"],VCardText:H["b"],VCardTitle:H["c"],VCol:f["a"],VContainer:p["a"],VDataTable:U["a"],VDialog:Y["a"],VDivider:K["a"],VFileInput:Q["a"],VForm:W["a"],VIcon:g["a"],VRow:y["a"],VSnackbar:X["a"],VSpacer:Z["a"],VTextField:ee["a"],VTextarea:te["a"],VToolbar:ae["a"],VToolbarTitle:S["a"]}),i["a"].use(T["a"]);var oe=[{path:"/",redirect:"/home"},{path:"/home",name:"home",component:B},{path:"/inventario",name:"inventario",component:re}],ne=new T["a"]({mode:"history",base:"/",routes:oe}),se=ne,le=a("f309");i["a"].use(le["a"]);var ce=new le["a"]({icons:{iconfont:"mdi"},theme:{dark:!0}});i["a"].config.productionTip=!1,new i["a"]({router:se,vuetify:ce,render:function(e){return e(C)}}).$mount("#app")}});
//# sourceMappingURL=app.5be2891a.js.map